<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POWER LABZ | RECLUTAMIENTO ELITE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Teko (Titulos) y Inter (Cuerpo) -->
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@300;400;600;700&family=Inter:wght@300;400;800&display=swap" rel="stylesheet">
    <!-- Iconos Lucide -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'display': ['"Teko"', 'sans-serif'],
                        'body': ['"Inter"', 'sans-serif'],
                    },
                    colors: {
                        'neon-red': '#FF1F1F',
                        'dark-bg': '#050505',
                        'card-bg': '#141414',
                        'steel': '#2a2a2a',
                        'input-bg': '#1a1a1a',
                    },
                    backgroundImage: {
                        'grid-pattern': "linear-gradient(to right, #222 1px, transparent 1px), linear-gradient(to bottom, #222 1px, transparent 1px)",
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #050505;
            color: #ffffff;
        }
        
        /* Grid de fondo */
        .bg-grid {
            background-size: 40px 40px;
            mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
        }

        /* Bot√≥n Cyber Industrial */
        .cyber-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
        }
        
        .cyber-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        
        .cyber-btn:hover::before {
            left: 100%;
        }

        .cyber-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            filter: grayscale(100%);
        }

        /* Tarjeta con esquinas cortadas */
        .cut-card {
            clip-path: polygon(0 0, 100% 0, 100% 90%, 95% 100%, 0 100%);
            border: 1px solid #2a2a2a;
        }

        /* Inputs personalizados */
        .tech-input {
            background: #1a1a1a;
            border: 1px solid #333;
            color: white;
            transition: all 0.3s ease;
        }
        .tech-input:focus {
            border-color: #FF1F1F;
            box-shadow: 0 0 15px rgba(255, 31, 31, 0.2);
            outline: none;
        }

        /* Animaci√≥n de pantallas */
        .screen {
            display: none;
            animation: fadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .screen.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Barra de progreso */
        .progress-track {
            background: #222;
            height: 4px;
            width: 100%;
            margin-bottom: 2rem;
        }
        .progress-fill {
            height: 100%;
            background: #FF1F1F;
            width: 0%;
            box-shadow: 0 0 10px #FF1F1F;
            transition: width 0.5s ease;
        }

        /* Ocultar flechas num√©ricas */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
            -webkit-appearance: none; 
            margin: 0; 
        }
    </style>
</head>
<body class="font-body antialiased selection:bg-neon-red selection:text-white min-h-screen flex flex-col relative overflow-x-hidden pb-20">

    <!-- Grid Background Overlay -->
    <div class="fixed inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none z-0"></div>

    <!-- Navbar Simplificada -->
    <nav class="w-full bg-dark-bg/90 backdrop-blur-md border-b border-steel sticky top-0 z-50 h-16 flex items-center justify-center">
        <div class="flex items-center gap-2">
            <div class="w-2 h-6 bg-neon-red skew-x-[-20deg]"></div>
            <span class="text-2xl font-display font-bold tracking-wider text-white">POWER <span class="text-neon-red">LABZ</span> CREW</span>
        </div>
    </nav>

    <!-- Contenedor Principal -->
    <main class="relative z-10 flex-grow flex flex-col items-center justify-center p-4 w-full max-w-2xl mx-auto">

        <!-- ======================================= -->
        <!-- == PANTALLA 1: BIENVENIDA              == -->
        <!-- ======================================= -->
        <section id="welcome-screen" class="screen active flex-col items-center text-center w-full">
            
            <div class="mb-8 relative">
                <div class="absolute -inset-4 bg-neon-red/20 rounded-full blur-xl animate-pulse"></div>
                <span class="relative inline-block py-1 px-3 border border-steel bg-black/50 text-neon-red text-xs font-bold uppercase tracking-[0.2em] backdrop-blur-sm">
                    Reclutamiento Activo
                </span>
            </div>

            <h1 class="font-display text-7xl md:text-9xl leading-[0.85] font-bold uppercase mb-6">
                ¬øEST√ÅS <br><span class="text-neon-red">LISTO?</span>
            </h1>
            
            <p class="text-gray-400 text-lg md:text-xl mb-10 max-w-md font-light tracking-wide border-l-2 border-neon-red pl-4 text-left mx-auto">
                Completa el protocolo de iniciaci√≥n para unirte al equipo de √©lite.
            </p>

            <button id="start-btn" class="cyber-btn bg-neon-red text-black px-12 py-4 text-2xl font-display font-bold uppercase tracking-wider w-full md:w-auto hover:bg-white hover:text-black shadow-[0_0_20px_rgba(255,31,31,0.3)]">
                INICIAR PROTOCOLO
            </button>
        </section>


        <!-- ======================================= -->
        <!-- == PANTALLA 2: BENEFICIOS            == -->
        <!-- ======================================= -->
        <section id="benefits-screen" class="screen flex-col items-center w-full">
            <div class="progress-track"><div class="progress-fill" id="progress-benefits"></div></div>
            
            <h2 class="font-display text-5xl md:text-6xl uppercase mb-8 text-center">
                Beneficios <span class="text-neon-red">OPERATIVOS</span>
            </h2>

            <div class="cut-card bg-card-bg p-8 w-full min-h-[280px] flex flex-col items-center justify-center mb-8 relative group">
                <div class="absolute top-0 right-0 p-2 opacity-20">
                    <i data-lucide="crosshair" class="w-12 h-12 text-neon-red"></i>
                </div>
                <p id="benefit-text" class="text-xl md:text-2xl text-center font-display uppercase tracking-wide leading-normal transition-opacity duration-300">
                    Cargando datos del sistema...
                </p>
            </div>

            <button id="next-benefit-btn" class="cyber-btn border border-neon-red text-neon-red hover:bg-neon-red hover:text-black px-10 py-3 text-xl font-display uppercase tracking-widest w-full transition-all">
                CONFIRMAR Y CONTINUAR
            </button>
        </section>


        <!-- ======================================= -->
        <!-- == PANTALLA 3: FORMULARIO            == -->
        <!-- ======================================= -->
        <section id="form-screen" class="screen flex-col items-center w-full">
            <div class="progress-track"><div class="progress-fill" id="progress-form"></div></div>

            <h2 class="font-display text-4xl md:text-5xl uppercase mb-6 text-center w-full flex items-center justify-center gap-3">
                <i data-lucide="terminal" class="w-8 h-8 text-neon-red"></i> DATOS DE AGENTE
            </h2>

            <div class="cut-card bg-card-bg p-8 w-full mb-8 border-t-4 border-t-neon-red">
                <label id="form-step-label" class="block font-display text-2xl uppercase text-gray-300 mb-4 tracking-wide">
                    Cargando...
                </label>
                
                <div id="form-step-input-container" class="mb-2">
                    <!-- Input inyectado aqu√≠ -->
                </div>

                <div id="step-validation" class="h-6 text-neon-red text-sm font-mono mt-2 flex items-center gap-2">
                    <!-- Mensajes de error aqu√≠ -->
                </div>
            </div>

            <button id="form-next-btn" class="cyber-btn bg-white text-black hover:bg-neon-red hover:text-white px-10 py-3 text-xl font-display uppercase tracking-widest w-full">
                SIGUIENTE
            </button>
        </section>


        <!-- ======================================= -->
        <!-- == PANTALLA 4: ACEPTADO              == -->
        <!-- ======================================= -->
        <section id="final-screen" class="screen flex-col items-center text-center w-full">
            <div class="progress-track"><div class="progress-fill w-full"></div></div>
            
            <div class="mb-6 inline-block p-4 rounded-full bg-neon-red/10 border border-neon-red animate-pulse">
                <i data-lucide="check-circle-2" class="w-16 h-16 text-neon-red"></i>
            </div>

            <h2 class="font-display text-6xl md:text-8xl uppercase leading-[0.9] mb-6">
                ACCESO <span class="text-neon-red">AUTORIZADO</span>
            </h2>

            <div class="cut-card bg-card-bg p-6 mb-8 border-l-4 border-l-neon-red text-left">
                <p class="text-gray-400 font-mono text-sm uppercase tracking-widest mb-2">ESTADO DE MISI√ìN:</p>
                <p class="text-xl md:text-2xl font-display uppercase text-white leading-relaxed">
                    Tu primer despliegue de suministros est√° programado a partir del:
                    <span id="current-date-span" class="text-neon-red block text-3xl mt-1"></span>
                </p>
            </div>

            <p class="text-gray-500 text-sm mb-8 max-w-md">
                Confirma tu posici√≥n t√°ctica enviando tus datos al comando central v√≠a WhatsApp.
            </p>

            <button id="whatsapp-btn" class="cyber-btn bg-[#25D366] text-black hover:bg-white px-8 py-4 text-xl font-display uppercase tracking-widest w-full flex items-center justify-center gap-3">
                <i data-lucide="message-circle" class="w-6 h-6"></i> ACTIVAR PATROCINIO
            </button>
        </section>


        <!-- ======================================= -->
        <!-- == PANTALLA 5: RECHAZADO             == -->
        <!-- ======================================= -->
        <section id="rejection-screen" class="screen flex-col items-center text-center w-full">
            <div class="progress-track"><div class="progress-fill w-full bg-gray-600"></div></div>

            <div class="mb-6 inline-block p-4 rounded-full bg-gray-800 border border-gray-600">
                <i data-lucide="shield-alert" class="w-16 h-16 text-gray-500"></i>
            </div>

            <h2 class="font-display text-5xl md:text-7xl uppercase leading-[0.9] mb-6 text-gray-500">
                ACCESO <span class="text-white">DENEGADO</span>
            </h2>

            <div class="cut-card bg-card-bg p-6 mb-8 border border-gray-700 text-left">
                <p class="text-gray-400 font-mono text-sm uppercase tracking-widest mb-2">REPORTE DEL SISTEMA:</p>
                <p class="text-lg text-gray-300 leading-relaxed font-light">
                    Los par√°metros actuales no cumplen con los requisitos para la asignaci√≥n de recursos t√°cticos en este momento.
                    <br><br>
                    <span class="text-white font-bold">Mant√©n el entrenamiento.</span> El sistema reevaluar√° nuevos candidatos en futuras convocatorias.
                </p>
            </div>
        </section>

    </main>

    <!-- Footer Fijo -->
    <footer class="fixed bottom-0 left-0 w-full bg-black/90 backdrop-blur border-t border-steel py-4 px-6 z-50 flex justify-between items-center">
        <div class="text-xs font-mono text-gray-500">SYS.VER.2.5</div>
        <div class="text-xs font-mono text-neon-red animate-pulse">ONLINE</div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();

            // --- 1. Almac√©n de Estado ---
            const state = {
                currentScreen: 'welcome',
                currentBenefit: 0,
                currentFormStep: 0,
                formData: {},
                isAccepted: false
            };

            // Mensajes de Beneficios (Adaptados al estilo)
            const benefitMessages = [
                "<strong>SUMINISTROS T√ÅCTICOS</strong> <br> <span class='text-gray-400 text-base'>Recepci√≥n mensual de 1 a 2 unidades de armamento biol√≥gico (suplementos) sin costo operativo.</span>",
                "<strong>RANGO √âLITE</strong> <br> <span class='text-gray-400 text-base'>Acceso a la armer√≠a con precios clasificados solo para agentes.</span>",
                "<strong>CONTRATO DE 9 MESES</strong> <br> <span class='text-gray-400 text-base'>Garant√≠a de permanencia y beneficios continuos en la unidad.</span>",
                "<strong>OPERACIONES DE CAMPO</strong> <br> <span class='text-gray-400 text-base'>Posibilidad de escalar a distribuidor y generar recursos financieros.</span>",
                "<strong>PROTOCOLOS DE COMUNICACI√ìN</strong> <br> <span class='text-gray-400 text-base'>Requerimos menciones estrat√©gicas en tus canales de transmisi√≥n (Redes Sociales).</span>"
            ];
            
            // Pasos del Formulario
            const formSteps = [
                { id: 'name', label: 'IDENTIFICACI√ìN DEL OPERADOR (NOMBRE)', icon: 'user', type: 'text', placeholder: 'NOMBRE COMPLETO', validation: val => val.trim() !== '', error: 'IDENTIFICACI√ìN REQUERIDA' },
                { id: 'age', label: 'TIEMPO EN SERVICIO (EDAD)', icon: 'calendar', type: 'number', placeholder: 'EJ: 25', validation: val => /^\d+$/.test(val) && parseInt(val) > 0, error: 'DATO INV√ÅLIDO' },
                { id: 'city', label: 'BASE DE OPERACIONES (CIUDAD DONDE VIVES)', icon: 'map-pin', type: 'text', placeholder: 'EJ: CDMX', validation: val => val.trim() !== '', error: 'UBICACI√ìN REQUERIDA' },
                { id: 'instagram', label: 'CANAL DE TRANSMISI√ìN (INSTAGRAM)', icon: 'instagram', type: 'text', placeholder: '@USUARIO', validation: val => val.trim() !== '', error: 'ENLACE REQUERIDO' },
                { id: 'training', label: 'EXPERIENCIA DE COMBATE (ENTRENAMIENTO)', icon: 'dumbbell', type: 'select', options: ['Menos de 6 meses', '6 meses', '9 meses', '1 a√±o', '1-3 a√±os', 'M√°s de 6 a√±os'], validation: val => val !== '', error: 'SELECCI√ìN REQUERIDA' },
                { id: 'supplements', label: '¬øCONSUMO DE SUPLEMENTOS?', icon: 'pill', type: 'select', options: ['S√≠', 'No'], validation: val => val !== '', error: 'SELECCI√ìN REQUERIDA' },
                { id: 'supplementsWhich', label: 'ESPECIFICAR ARSENAL', icon: 'list', type: 'text', placeholder: 'PROTE√çNA, CREATINA...', validation: val => val.trim() !== '', error: 'DETALLE REQUERIDO', dependsOn: { id: 'supplements', value: 'S√≠' } },
                { id: 'sponsorship', label: '¬øAFILIACIONES PREVIAS?', icon: 'flag', type: 'select', options: ['S√≠', 'No'], validation: val => val !== '', error: 'SELECCI√ìN REQUERIDA' },
                { id: 'currentSponsorship', label: '¬øAFILIACI√ìN ACTIVA?', icon: 'alert-circle', type: 'select', options: ['S√≠', 'No'], validation: val => val !== '', error: 'SELECCI√ìN REQUERIDA', dependsOn: { id: 'sponsorship', value: 'S√≠' } }
            ];

            const mainWhatsAppNumber = '5215629554857';

            // --- 2. Elementos ---
            const screens = document.querySelectorAll('.screen');
            const startBtn = document.getElementById('start-btn');
            const nextBenefitBtn = document.getElementById('next-benefit-btn');
            const formNextBtn = document.getElementById('form-next-btn');
            const whatsappBtn = document.getElementById('whatsapp-btn');
            const formLabel = document.getElementById('form-step-label');
            const formInputContainer = document.getElementById('form-step-input-container');
            const stepValidation = document.getElementById('step-validation');

            // --- 3. L√≥gica de Navegaci√≥n ---
            function navigateTo(screenId) {
                screens.forEach(screen => screen.classList.remove('active'));
                document.getElementById(screenId).classList.add('active');
                state.currentScreen = screenId;
                window.scrollTo(0, 0);
            }

            function updateProgress(elementId, width) {
                const el = document.getElementById(elementId);
                if(el) el.style.width = width;
            }

            // --- 4. L√≥gica de Beneficios ---
            function showBenefit(index) {
                const textEl = document.getElementById('benefit-text');
                textEl.style.opacity = '0';
                setTimeout(() => {
                    textEl.innerHTML = benefitMessages[index];
                    textEl.style.opacity = '1';
                }, 300);
            }

            // --- 5. L√≥gica de Formulario ---
            function renderCurrentFormStep() {
                stepValidation.innerHTML = '';
                let step = formSteps[state.currentFormStep];

                // L√≥gica de dependencias (saltar pasos)
                if (step.dependsOn) {
                    const parentVal = state.formData[step.dependsOn.id];
                    if (parentVal !== step.dependsOn.value) {
                        state.formData[step.id] = 'N/A';
                        state.currentFormStep++;
                        if (state.currentFormStep >= formSteps.length) return evaluateAndTransition();
                        return renderCurrentFormStep();
                    }
                }

                // Renderizado
                formLabel.innerHTML = `${step.label}`;
                let inputHtml = '';
                
                const commonClasses = "tech-input w-full p-4 text-xl font-display uppercase tracking-wide rounded-none placeholder-gray-600 focus:placeholder-gray-500";

                if (step.type === 'select') {
                    let opts = `<option value="" disabled selected>/// SELECCIONAR OPCI√ìN ///</option>`;
                    opts += step.options.map(o => `<option value="${o}" class="bg-black text-white">${o.toUpperCase()}</option>`).join('');
                    inputHtml = `<select id="step-${step.id}" class="${commonClasses} appearance-none cursor-pointer">${opts}</select>`;
                } else {
                    inputHtml = `<input type="${step.type}" id="step-${step.id}" class="${commonClasses}" placeholder="${step.placeholder}" autocomplete="off">`;
                }
                
                formInputContainer.innerHTML = inputHtml;
                
                // Autocus
                setTimeout(() => {
                    const input = document.getElementById(`step-${step.id}`);
                    if(input) input.focus();
                }, 100);

                formNextBtn.textContent = (state.currentFormStep === formSteps.length - 1) ? 'FINALIZAR PROTOCOLO' : 'CONFIRMAR DATO';
            }

            function validateAndAdvance() {
                let step = formSteps[state.currentFormStep];
                const input = document.getElementById(`step-${step.id}`);
                const val = input.value;

                if (!step.validation(val)) {
                    stepValidation.innerHTML = `<i data-lucide="alert-triangle" class="w-4 h-4"></i> ${step.error}`;
                    lucide.createIcons();
                    input.classList.add('border-neon-red');
                    return;
                }

                state.formData[step.id] = val;
                state.currentFormStep++;
                
                // Progreso visual (aprox)
                const progress = ((state.currentFormStep / formSteps.length) * 100) + '%';
                updateProgress('progress-form', progress);

                if (state.currentFormStep >= formSteps.length) {
                    evaluateAndTransition();
                } else {
                    renderCurrentFormStep();
                }
            }

            // --- 6. Evaluaci√≥n Final ---
            function evaluateAndTransition() {
                let isAccepted = true;
                const data = state.formData;

                // REGLAS DE RECHAZO (Hardcore Mode)
                if (parseInt(data.age) < 19) isAccepted = false;
                if (data.training === 'Menos de 6 meses') isAccepted = false;
                if (data.supplements === 'No') isAccepted = false;
                if (data.sponsorship === 'S√≠' && data.currentSponsorship === 'S√≠') isAccepted = false;

                if (isAccepted) {
                    navigateTo('final-screen');
                    document.getElementById('current-date-span').textContent = new Date().toLocaleDateString('es-MX', { year: 'numeric', month: 'long', day: 'numeric' }).toUpperCase();
                } else {
                    navigateTo('rejection-screen');
                }
            }

            // --- 7. WhatsApp ---
            whatsappBtn.addEventListener('click', () => {
                const d = state.formData;
                let msg = `üõë *NUEVO RECLUTA: PROTOCOLO POWER LABZ* üõë\n\n`;
                msg += `üë§ *AGENTE:* ${d.name}\n`;
                msg += `üéÇ *EDAD:* ${d.age}\n`;
                msg += `üìç *BASE:* ${d.city}\n`;
                msg += `üì± *RED:* ${d.instagram}\n`;
                msg += `üèãÔ∏è *EXP:* ${d.training}\n`;
                msg += `üíä *SUPS:* ${d.supplements} (${d.supplementsWhich || 'N/A'})\n`;
                msg += `ü§ù *PATROCINIOS:* ${d.sponsorship} (Activo: ${d.currentSponsorship || 'N/A'})\n\n`;
                msg += `üöÄ *SOLICITANDO ACTIVACI√ìN DE SUMINISTROS.*`;

                window.open(`https://wa.me/${mainWhatsAppNumber}?text=${encodeURIComponent(msg)}`, '_blank');
            });

            // --- Listeners Globales ---
            startBtn.addEventListener('click', () => {
                navigateTo('benefits-screen');
                updateProgress('progress-benefits', '20%');
                showBenefit(0);
            });

            nextBenefitBtn.addEventListener('click', () => {
                state.currentBenefit++;
                const progress = 20 + ((state.currentBenefit / benefitMessages.length) * 80) + '%';
                updateProgress('progress-benefits', progress);

                if (state.currentBenefit < benefitMessages.length) {
                    showBenefit(state.currentBenefit);
                } else {
                    navigateTo('form-screen');
                    renderCurrentFormStep();
                }
            });

            formNextBtn.addEventListener('click', validateAndAdvance);
            
            // Enter key support
            formInputContainer.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') validateAndAdvance();
            });
        });
    </script>
</body>
</html>